# 英语学习应用 - 配置文件说明

## 题型介绍

本应用支持五种题型：

### 1. 拼句子题 (sentence-building)
孩子需要从打乱的单词块中选择正确的单词顺序来重组句子。

### 2. 连线题 (matching)
孩子需要将左侧的英文单词与右侧对应的中文翻译进行配对连线。

### 3. 单词拼写题 (spelling)
孩子需要听音拼写单词，并从4个选项中选择正确的中文意思。

### 4. 填空题 (fill-in-blank)
孩子需要在句子的空白处填入正确的单词。句子中可以有一个或多个空，每个空只允许输入一个英文单词。

### 5. 对话题 (dialogue)
一问一答的对话练习，给出问答中的一个（英文），让孩子用拼句子的形式补充另一个。可以选择显示问题让孩子拼回答，或显示回答让孩子拼问题。

## ✨ 多级目录支持

配置文件支持使用 `/` 分隔符创建多级目录结构：

**示例：**
- 一级目录：`"日常问候"`
- 二级目录：`"基础句型/家庭相关"`
- 三级目录：`"词汇练习/动物类/宠物"`

**智能导入预览：**
- 上传配置文件后，系统会分析并显示预览对话框
- 列出将要创建的新目录和已存在的目录
- 显示有效和无效的题目数量
- 确认后才会执行导入操作

## 配置文件格式

配置文件为 JSON 格式，根元素必须是数组。每个题目对象包含以下字段：

### 拼句子题字段

```json
{
  "type": "sentence-building",
  "sentence": "英文句子",
  "translation": "中文翻译",
  "folderName": "目录名称"
}
```

**字段说明：**
- `type`: 题目类型，固定为 `"sentence-building"`
- `sentence`: 英文句子内容
- `translation`: 对应的中文翻译
- `folderName`: 目录路径，支持多级目录（用 `/` 分隔），系统会自动创建不存在的目录 ✨

### 连线题字段

```json
{
  "type": "matching",
  "sentence": "题目标题",
  "translation": "题目描述",
  "words": ["单词1", "单词2", "单词3"],
  "wordTranslations": ["翻译1", "翻译2", "翻译3"],
  "folderName": "目录名称"
}
```

**字段说明：**
- `type`: 题目类型，固定为 `"matching"`
- `sentence`: 题目标题（如"动物单词"）
- `translation`: 题目描述（如"学习常见动物的英文单词"）
- `words`: 英文单词数组
- `wordTranslations`: 中文翻译数组，必须与 words 数组长度相同且顺序对应
- `folderName`: 目录路径，支持多级目录（用 `/` 分隔），系统会自动创建不存在的目录 ✨

### 单词拼写题字段

```json
{
  "type": "spelling",
  "sentence": "单词",
  "translation": "中文意思",
  "word": "单词",
  "phonetic": "音标（可选）",
  "meaning": "正确的中文意思",
  "distractors": ["干扰项1", "干扰项2", "干扰项3"],
  "folderName": "目录名称"
}
```

**字段说明：**
- `type`: 题目类型，固定为 `"spelling"`
- `sentence`: 单词内容（与word字段保持一致）
- `translation`: 中文意思（与meaning字段保持一致）
- `word`: 要拼写的单词
- `phonetic`: 音标（可选，建议填写，如"/ˈæp.əl/"）
- `meaning`: 正确的中文意思
- `distractors`: 3个错误的中文意思数组，用作干扰选项
- `folderName`: 目录路径，支持多级目录（用 `/` 分隔），系统会自动创建不存在的目录 ✨

### 填空题字段

```json
{
  "type": "fill-in-blank",
  "sentence": "I ___ to school every day",
  "translation": "我每天去上学",
  "blanks": ["go"],
  "folderName": "目录名称"
}
```

**字段说明：**
- `type`: 题目类型，固定为 `"fill-in-blank"`
- `sentence`: 带有填空标记的英文句子，用 `___`（三个下划线）表示填空位置
- `translation`: 对应的中文翻译
- `blanks`: 填空答案数组，按照句子中填空出现的顺序填写
- `folderName`: 目录路径，支持多级目录（用 `/` 分隔），系统会自动创建不存在的目录 ✨

**重要提示：**
- 句子中 `___` 的数量必须与 `blanks` 数组长度相同
- 每个空只允许填入一个英文单词
- `blanks` 数组中答案的顺序要与句子中空的顺序对应

### 对话题字段

```json
{
  "type": "dialogue",
  "question": "What is your name",
  "answer": "My name is Tom",
  "translation": "你叫什么名字？我叫汤姆。",
  "showQuestion": true,
  "folderName": "目录名称"
}
```

**字段说明：**
- `type`: 题目类型，固定为 `"dialogue"`
- `question`: 对话中的问题（英文）
- `answer`: 对话中的回答（英文）
- `translation`: 对话的中文翻译（包含问答的完整翻译）
- `showQuestion`: 练习模式，`true` 表示显示问题让孩子拼回答，`false` 表示显示回答让孩子拼问题
- `folderName`: 目录路径，支持多级目录（用 `/` 分隔），系统会自动创建不存在的目录 ✨

**特色功能：**
- 对话气泡界面，问题和回答用不同颜色的气泡显示
- 提供语音播放功能，孩子可以点击小喇叭听正确答案作为提示
- 智能干扰词，增加练习难度

## 配置样例

### 拼句子题样例（含多级目录）

```json
[
  {
    "type": "sentence-building",
    "sentence": "I love my family",
    "translation": "我爱我的家人",
    "folderName": "基础句型/家庭相关"
  },
  {
    "type": "sentence-building",
    "sentence": "What is your favorite color",
    "translation": "你最喜欢的颜色是什么",
    "folderName": "基础句型/日常问答"
  },
  {
    "type": "sentence-building",
    "sentence": "I like to play basketball",
    "translation": "我喜欢打篮球",
    "folderName": "兴趣爱好/运动类"
  },
  {
    "type": "sentence-building",
    "sentence": "How old are you",
    "translation": "你多大了",
    "folderName": "日常问候"
  },
  {
    "type": "sentence-building",
    "sentence": "Nice to meet you",
    "translation": "很高兴见到你",
    "folderName": "日常问候"
  }
]
```

**说明**：
- `"基础句型/家庭相关"` - 创建"基础句型"一级目录，下面有"家庭相关"子目录
- `"基础句型/日常问答"` - 在已存在的"基础句型"下创建"日常问答"子目录
- `"兴趣爱好/运动类"` - 创建"兴趣爱好"一级目录，下面有"运动类"子目录
- `"日常问候"` - 创建一级目录

### 连线题样例（含多级目录）

```json
[
  {
    "type": "matching",
    "sentence": "动物单词",
    "translation": "学习常见动物的英文单词",
    "words": ["dog", "cat", "bird", "fish", "rabbit"],
    "wordTranslations": ["狗", "猫", "鸟", "鱼", "兔子"],
    "folderName": "词汇练习/动物类"
  },
  {
    "type": "matching",
    "sentence": "颜色单词",
    "translation": "学习常见颜色的英文单词",
    "words": ["red", "blue", "green", "yellow", "black", "white"],
    "wordTranslations": ["红色", "蓝色", "绿色", "黄色", "黑色", "白色"],
    "folderName": "词汇练习/颜色类"
  },
  {
    "type": "matching",
    "sentence": "水果单词",
    "translation": "学习常见水果的英文单词",
    "words": ["apple", "banana", "orange", "grape", "strawberry"],
    "wordTranslations": ["苹果", "香蕉", "橙子", "葡萄", "草莓"],
    "folderName": "词汇练习/食物类"
  }
]
```

**说明**：本例中创建了"词汇练习"一级目录，其下有3个子目录："动物类"、"颜色类"、"食物类"。

### 单词拼写题样例（含多级目录）

```json
[
  {
    "type": "spelling",
    "sentence": "apple",
    "translation": "苹果",
    "word": "apple",
    "phonetic": "/ˈæp.əl/",
    "meaning": "苹果",
    "distractors": ["香蕉", "橙子", "葡萄"],
    "folderName": "单词拼写/水果类"
  },
  {
    "type": "spelling",
    "sentence": "dog",
    "translation": "狗",
    "word": "dog",
    "phonetic": "/dɔːɡ/",
    "meaning": "狗",
    "distractors": ["猫", "鸟", "鱼"],
    "folderName": "单词拼写/动物类"
  },
  {
    "type": "spelling",
    "sentence": "red",
    "translation": "红色",
    "word": "red",
    "phonetic": "/red/",
    "meaning": "红色",
    "distractors": ["蓝色", "绿色", "黄色"],
    "folderName": "单词拼写/颜色类"
  }
]
```

**说明**：本例中创建了"单词拼写"一级目录，其下有3个子目录："水果类"、"动物类"、"颜色类"。注意音标字段是可选的，但建议填写以帮助孩子学习发音。

### 填空题样例（含多级目录）

```json
[
  {
    "type": "fill-in-blank",
    "sentence": "I ___ to school every day",
    "translation": "我每天去上学",
    "blanks": ["go"],
    "folderName": "填空练习/日常生活"
  },
  {
    "type": "fill-in-blank",
    "sentence": "She ___ a book in the library",
    "translation": "她在图书馆读书",
    "blanks": ["reads"],
    "folderName": "填空练习/学习活动"
  },
  {
    "type": "fill-in-blank",
    "sentence": "My ___ is in the ___",
    "translation": "我妈妈在厨房",
    "blanks": ["mother", "kitchen"],
    "folderName": "填空练习/家庭成员"
  },
  {
    "type": "fill-in-blank",
    "sentence": "The ___ is ___ and ___",
    "translation": "天空是蓝色且美丽的",
    "blanks": ["sky", "blue", "beautiful"],
    "folderName": "填空练习/描述句型"
  }
]
```

**说明**：
- 本例中创建了"填空练习"一级目录，其下有4个子目录
- 第1-2个例子是单空填空
- 第3个例子是双空填空，blanks数组包含2个答案，按顺序对应
- 第4个例子是三空填空，blanks数组包含3个答案
- 每个 `___` 必须在 `blanks` 数组中有对应的答案

### 对话题样例（含多级目录）

```json
[
  {
    "type": "dialogue",
    "question": "What is your name",
    "answer": "My name is Tom",
    "translation": "你叫什么名字？我叫汤姆。",
    "showQuestion": true,
    "folderName": "对话练习/自我介绍"
  },
  {
    "type": "dialogue",
    "question": "How old are you",
    "answer": "I am eight years old",
    "translation": "你多大了？我八岁了。",
    "showQuestion": true,
    "folderName": "对话练习/日常问候"
  },
  {
    "type": "dialogue",
    "question": "What do you like",
    "answer": "I like reading books",
    "translation": "你喜欢什么？我喜欢读书。",
    "showQuestion": false,
    "folderName": "对话练习/兴趣爱好"
  },
  {
    "type": "dialogue",
    "question": "Where do you live",
    "answer": "I live in Beijing",
    "translation": "你住在哪里？我住在北京。",
    "showQuestion": true,
    "folderName": "对话练习/基本信息"
  }
]
```

**说明**：
- 本例中创建了"对话练习"一级目录，其下有4个子目录
- 第1-2和第4个例子设置 `showQuestion: true`，显示问题让孩子拼回答
- 第3个例子设置 `showQuestion: false`，显示回答让孩子拼问题
- 孩子可以点击小喇叭听正确答案作为提示
- 对话练习采用彩色气泡界面，更生动有趣

### 混合题型样例（含五种题型）

```json
[
  {
    "type": "sentence-building",
    "sentence": "I love my family",
    "translation": "我爱我的家人",
    "folderName": "基础句型"
  },
  {
    "type": "matching",
    "sentence": "动物单词",
    "translation": "学习常见动物的英文单词",
    "words": ["dog", "cat", "bird", "fish"],
    "wordTranslations": ["狗", "猫", "鸟", "鱼"],
    "folderName": "词汇练习"
  },
  {
    "type": "spelling",
    "sentence": "apple",
    "translation": "苹果",
    "word": "apple",
    "phonetic": "/ˈæp.əl/",
    "meaning": "苹果",
    "distractors": ["香蕉", "橙子", "葡萄"],
    "folderName": "单词拼写"
  },
  {
    "type": "fill-in-blank",
    "sentence": "I ___ to school every day",
    "translation": "我每天去上学",
    "blanks": ["go"],
    "folderName": "填空练习"
  },
  {
    "type": "dialogue",
    "question": "What is your name",
    "answer": "My name is Tom",
    "translation": "你叫什么名字？我叫汤姆。",
    "showQuestion": true,
    "folderName": "对话练习"
  },
  {
    "type": "sentence-building",
    "sentence": "What is your name",
    "translation": "你叫什么名字",
    "folderName": "日常问候"
  },
  {
    "type": "matching",
    "sentence": "颜色单词",
    "translation": "学习常见颜色的英文单词",
    "words": ["red", "blue", "green", "yellow"],
    "wordTranslations": ["红色", "蓝色", "绿色", "黄色"],
    "folderName": "词汇练习"
  }
]
```

**说明**：本例演示了混合使用五种题型，并创建了6个目录："基础句型"、"词汇练习"（包含2道连线题）、"单词拼写"、"填空练习"、"对话练习"、"日常问候"。

## 使用方法

1. 创建一个 `.json` 文件
2. 按照上述格式编写题目内容
3. 在应用中点击"配置导入"标签
4. 点击上传区域选择你的配置文件
5. 系统会自动验证并导入题目
6. 导入成功后会显示导入的题目数量

## 注意事项

- JSON 格式必须严格正确，注意逗号、引号等符号
- **连线题**的 `words` 和 `wordTranslations` 数组长度必须相同
- **单词拼写题**的 `distractors` 数组必须包含3个干扰选项
- **单词拼写题**的 `phonetic` 字段是可选的，但建议填写以帮助孩子学习发音
- **填空题**的句子中 `___` 的数量必须与 `blanks` 数组长度相同
- **填空题**每个空只允许填入一个英文单词
- **对话题**不需要 `sentence` 字段，使用 `question` 和 `answer` 字段
- **对话题**的 `showQuestion` 字段控制练习模式，建议根据难度选择
- 数组顺序很重要：第一个英文单词对应第一个中文翻译
- `folderName` 字段用于指定目录名称，系统会自动创建不存在的目录 ✨
- 相同 `folderName` 的题目会自动归类到同一个目录下
- 如果不想分类，可以省略 `folderName` 字段，题目会进入"未分类"
- 配置文件中无效的题目会被跳过，不影响其他题目的导入
- 每个自动创建的目录会被分配一个预设颜色，便于区分

## 目录自动创建功能 ✨

本应用支持通过 `folderName` 字段自动创建和管理目录，非常方便：

### 工作原理

1. **自动创建**：导入时，如果指定的 `folderName` 不存在，系统会自动创建该目录
2. **智能归类**：相同 `folderName` 的题目会自动归类到同一个目录下
3. **颜色分配**：新创建的目录会自动分配一个漂亮的颜色，便于视觉区分
4. **去重机制**：同名目录不会重复创建

### 使用示例

配置文件中这样写：
```json
{
  "type": "sentence-building",
  "sentence": "I love my family",
  "translation": "我爱我的家人",
  "folderName": "基础句型"
}
```

导入后，系统会：
1. 检查是否已存在"基础句型"目录
2. 如果不存在，自动创建该目录
3. 将题目分配到"��础句型"目录下

### 手动管理

您也可以：
1. 在"目录管理"页面手动创建、编辑、删除目录
2. 在"题库管理"中手动编辑题目，重新选择所属目录
